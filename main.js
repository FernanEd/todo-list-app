(()=>{"use strict";const e=(()=>{const e=function(){let e=JSON.parse(localStorage.getItem("user_data"));if(!e)return null;let a=[];for(let l of e){let e=[];for(let t of l.tasks)e.push(new n(t.desc,t.priority,t.duedate,t.done));l=new t(l.name);for(let t of e)l.addTask(t);a.push(l)}return a}()||[],a=()=>{localStorage.setItem("user_data",JSON.stringify(l().map((e=>e.getObjLiteral()))))},l=()=>[...e];return{updateData:a,addProject:t=>{e.push(t),a()},removeProject:t=>{e.splice(indexOf(t),1)},getProjects:l}})();function t(e){let t=e,n=[];return{getObjLiteral:()=>({name:e,tasks:n.map((e=>e.getObjLiteral()))}),getName:()=>t,addTask:e=>{n.push(e)},getTasks:()=>n}}function n(e,t,n,a=!1){let l=e,r=t,d=n,s=a;return{getObjLiteral:()=>({desc:e,priority:t,duedate:n,done:a}),isDone:()=>s,markAsDone:()=>{s=!0},editTask:(e,t,n)=>{l=e,r=t,d=n}}}const a='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">\n  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>\n  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>\n</svg>',l='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">\n  <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>\n</svg>',r='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-check" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>\n  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>\n</svg>',d='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder" viewBox="0 0 16 16">\n  <path d="M.54 3.87L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"/>\n</svg>',s='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">\n<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg>';function i(){this.removeEventListener("click",i),this.parentNode.parentElement.reset();let e=document.querySelector("#content");e.removeChild(e.lastChild)}console.log(e.getProjects());const c=new function(e,...t){let n=document.createElement("form");n.classList.add("modal-form");let a=document.createElement("div");a.classList.add("form-header");let l=document.createElement("div");l.classList.add("form-close","btn","btn-secondary"),l.innerHTML=s;let r=document.createElement("h2");r.classList.add("form-title"),r.innerText=e,a.append(l),a.append(r),n.append(a);for(let e of t){let t=document.createElement("div");t.classList.add("form-field");let a,l=document.createElement("label");l.innerText=e.name,"textarea"!==e.type?(a=document.createElement("input"),a.setAttribute("type",e.type)):a=document.createElement("textarea"),a.setAttribute("name",e.name),e.required&&a.setAttribute("required",""),"number"===e.type&&(a.setAttribute("min",e.minrange),a.setAttribute("max",e.maxrange)),t.append(l),t.append(a),n.append(t)}let d=document.createElement("button");return d.classList.add("form-submit","btn","btn-primary","btn-long"),d.innerText="Submit",n.append(d),n}("Add new Task",{name:"Description",type:"textarea",required:!0},{name:"Due date",type:"date",required:!0},{name:"Priority (0 low - 3 max)",type:"number",required:!0,minrange:0,maxrange:3});document.querySelector("#list-add-btn").addEventListener("click",(e=>{!function(e,t){let n=document.createElement("div");n.classList.add("modal-bg"),n.append(e),document.querySelector("#content").append(n),e.addEventListener("submit",(e=>{e.preventDefault(),console.log("yes")})),e.querySelector(".form-close").addEventListener("click",i)}(c)}));const o=(()=>{const t=document.querySelector("#project-wrapper"),n=document.querySelector("#list-wrapper");let s=e.getProjects()[0];const i=({desc:e,priority:t,duedate:n,done:d})=>{let s=document.createElement("div");s.classList.add("list-item");let i=document.createElement("div");i.classList.add("list-item-header");let c=document.createElement("div");c.classList.add("list-item-info");let o=document.createElement("p");o.classList.add("list-item-duedate","text-secondary"),o.innerText=n;let m=document.createElement("p");m.classList.add("list-item-priority","text-primary"),m.innerText=t,c.append(o),c.append(m);let p=document.createElement("div");p.classList.add("list-item-controllers");let u=document.createElement("button");u.classList.add("btn","btn-primary","btn-circle"),u.innerHTML=r;let h=document.createElement("button");h.classList.add("btn-edit","btn","btn-secondary","btn-circle"),h.innerHTML=l;let b=document.createElement("button");b.classList.add("btn-delete","btn","btn-secondary","btn-circle"),b.innerHTML=a,p.append(u),p.append(h),p.append(b),i.append(c),i.append(p);let L=document.createElement("div");L.classList.add("list-item-body");let g=document.createElement("p");return g.classList.add("list-item-desc"),g.innerText=e,L.append(g),s.append(i),s.append(L),s};return{displayProjects:()=>{t.innerHTML="",e.getProjects().forEach((e=>{let n=(({name:e,tasks:t})=>{let n=document.createElement("div");n.classList.add("project-item");let r=document.createElement("div");r.classList.add("project-item-content");let s=document.createElement("div");s.classList.add("project-item-header");let i=document.createElement("div");i.classList.add("project-item-icon"),i.innerHTML=d;let c=document.createElement("p");c.classList.add("project-item-title"),c.innerText=e,s.append(i),s.append(c);let o=document.createElement("small");o.classList.add("project-item-desc"),o.innerText=t.length>1?`(${t.length}) tasks on project.`:t.length>0?"(1) task on project.":"No tasks on project.",r.append(s),r.append(o);let m=document.createElement("div");m.classList.add("project-item-controls");let p=document.createElement("button");p.classList.add("btn-edit","btn","btn-light","btn-circle"),p.innerHTML=l;let u=document.createElement("button");return u.classList.add("btn-delete","btn","btn-light","btn-circle"),u.innerHTML=a,m.append(p),m.append(u),n.append(r),n.append(m),n})(e.getObjLiteral());t.appendChild(n)}))},selectProject:a=>{var l;Array.from(t.childNodes)[a].classList.add("project-item-selected"),s=e.getProjects()[a],l=s.getTasks(),n.innerHTML="",l.forEach((e=>{let t=i(e.getObjLiteral());n.appendChild(t)}))}}})();o.displayProjects(),o.selectProject(0)})();